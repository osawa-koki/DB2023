---
title: "SQLとリレーショナルモデル"
date: 2022-12-26T15:14:04+09:00
draft: false
description: "データベースっていうとSQLを思い浮かべますが、それは技術レベルでの話であり、論理レベルではリレーショナルモデルが根底にあります。では、SQLとリレーショナルモデルはどのような差異があるのでしょうか？"
categories: ["DB2023", "教科書"]
tags: ["SQL", "リレーショナルモデル"]
---

## SQLとリレーショナルモデル

[理論から学ぶデータベース実践入門](https://gihyo.jp/book/2015/978-4-7741-7197-5)では、SQLにあってリレーショナルモデルにないものとして以下の6つをあげています。  

- 要素の重複
- 要素間の順序
- リレーションの更新
- トランザクション
- ストアドプロシージャ
- NULL

「要素の重複」や「要素間の順序」に関しては集合の性質が理由です。  

## 「要素の重複」や「要素間の順序」

集合論では要素が集合に属する(集合が要素を含む)か否かだけを扱い、その集合に属する要素の順序や、当該要素の個数は扱いません。  
したがって、リレーショナルモデルとしては「要素の重複」や「要素間の順序」は対象外です。  

ORDER BY句やDISTINCTを使用しないSQLに関してはリレーショナルモデルの範囲外といえます。  

## リレーションの更新

> リレーションは値であるため、更新はできません。

と説明されています。  

```go
a = 1;
a = 2;
```

という処理はaという変数の参照が1から2に変更されているだけで、1という値が2に更新されているわけではありません。  
それと同様に、リレーションが値である以上、それそのものの更新はできません。  

更新されているのはテーブルの値の参照先ということになります。  

## トランザクション

リレーショナルモデルが論理的整合性を有し、理論的に矛盾を生じない構造になっているという特徴を利用して、基幹システムでよく使用されています。  
これを技術的にサポートするための仕組みがトランザクションです。  

したがって、トランザクションは論理レベル(リレーショナルモデル)の仕様ではなく、技術レベルの実装であることから、リレーショナルモデルの対象外といえます。  

## ストアドプロシージャ

これもパフォーマンス(技術レベル)での実装であり、論理レベル(リレーショナルモデル)レベルでの仕様ではありません。  

## NULL

集合論では要素が集合に属する(集合が要素を含む)かどうかを対象としており、未知の値とされるNULLはリレーショナルモデルお対象外とされます。  
これは集合演算に際して、その結果が一意に定まらないという論理的矛盾を発生させる危険性を孕んでいるため、取り扱いには注意が必要です。  
