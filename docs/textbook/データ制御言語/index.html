<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="https://osawa-koki.github.io/DB2023/Logo.png" type="image/x-icon" />
  
  <link rel="stylesheet" href="https://osawa-koki.github.io/DB2023/sass/style.min.dc0078058ce9074c96338ad888d8e91b59fba1e714614cf45118578944e151d7.css" />
  
  <link rel="stylesheet" href="https://osawa-koki.github.io/DB2023/sass/single.min.3b930d67d16a1c09a9dfba0df903c9a279dfcadbd9d8c4479def4c7a14e91547.css" />
  
  <link rel="stylesheet" href="https://osawa-koki.github.io/DB2023/sass/content.min.29f09606f5140407d848c87a91f73509241b381546612af92f28f53e2fd2de65.css" />
  <link rel="stylesheet" href="https://osawa-koki.github.io/DB2023/bootstrap-5.0.2-dist/css/bootstrap.min.css" />
  <title>データ制御言語 | データベーススペシャリスト試験対策</title>
</head>
<body>
  <header>
    <a href="https://osawa-koki.github.io/DB2023/"><img id="LogoImage" src="https://osawa-koki.github.io/DB2023/Logo.png" alt="Logo" /></a>
  </header>
  <main>

<div id="Single">
  <div id="MainDiv">
    <div id="content-header">
      <div id="content-title">データ制御言語</div>
      <div id="content-description">セキュリティの要となる権限についてです。データベースのセキュリティ、とっても大切です！</div>
      <div id="content-date">2022.12.25</div>
      <div id="content-categories">
        
          <div class="category">DB2023</div>
        
          <div class="category">教科書</div>
        
      </div>
      <div id="content-tags">
        
          <div class="tag">セキュリティ</div>
        
          <div class="tag">SQL</div>
        
      </div>
    </div>
    <div id="MainBody">
      <div id="content">
        <h2 id="データベースセキュリティ">データベースセキュリティ</h2>
<p>セキュリティってどれも大切ですが、データベースに関するセキュリティってその中でも本当に大切です。<br>
参考までに、サイボウズのバグバウンティでの各種類の攻撃方法での最低価格を少し紹介しますね♪</p>
<table>
<thead>
<tr>
<th>攻撃名</th>
<th>報奨金額</th>
</tr>
</thead>
<tbody>
<tr>
<td>SQLインジェクション</td>
<td>60,000</td>
</tr>
<tr>
<td>インジェクション(SQL以外)</td>
<td>20,000</td>
</tr>
<tr>
<td>アクセス制御の不備</td>
<td>20,000</td>
</tr>
<tr>
<td>入力確認の不備</td>
<td>20,000</td>
</tr>
<tr>
<td>XSS</td>
<td>40,000</td>
</tr>
</tbody>
</table>
<p>※ 引用元は<a href="https://cybozu.co.jp/products/bug-bounty/">こちら</a></p>
<h2 id="権限">権限</h2>
<p>あるデータに対して特定の処理をしていいか否かです。<br>
セキュリティの基本部分ですが、この設定周りのミスはヒューマンエラーとして発生することが多々あります。<br>
めんどくさいから、とりあえず権限付与しておけばいいや、的な、、、</p>
<p>データベースのセキュリティに関しては、「SQLインジェクション攻撃」と「権限(認証)」がほとんどです。</p>
<p>どちらも非常に簡単に対応できます。</p>
<p>権限に関してはアクセスしてもOKばユーザ(ロール)に対して適切な権限をあたえて、それ以外には与えないだけです。</p>
<p>また、「SQLインジェクション攻撃」に関しては後ほど説明しますが、「エスケープ処理」か「バインド機構」のいずれかで対応できます。</p>
<p>ここでしっかりと権限に関してはマスターしましょう♪</p>
<hr>
<p>権限とは「<strong>誰が</strong>」「<strong>どの資源に</strong>」「<strong>どんな処理を</strong>」していいかを示すものです。<br>
したがって、権限に関するSQLではこの3つを強く意識してください。</p>
<table>
<thead>
<tr>
<th></th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>誰が</td>
<td>ユーザ(ロール)</td>
</tr>
<tr>
<td>どの資源に</td>
<td>テーブル(ビュー)</td>
</tr>
<tr>
<td>どんな処理を</td>
<td>SELECT/INSERT/UPDATE/DELETE</td>
</tr>
</tbody>
</table>
<h2 id="ユーザベース制御とロールベース制御">ユーザベース制御とロールベース制御</h2>
<p>権限を設定する際に、数百人単位で全て設定するのは大変ですよね、、、<br>
したがって、役割(ロール)でユーザを一括管理して、そのユーザに権限を付すことで、ユーザの管理を楽にすることが一般的です。<br>
例えば、役職(部長・PMPL・SEPG)などで一括して権限を付す場合です。</p>
<p>ロールベース制御は間にロールを挟む分、そこで不備が発生しやすいことに注意して下さい。</p>
<h2 id="grant文">GRANT文</h2>
<p>ユーザ、またはロールに対して権限を付すためのSQLです。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span> <span style="color:#960050;background-color:#1e0010">権限</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ON</span> <span style="color:#960050;background-color:#1e0010">対象資源</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">TO</span> <span style="color:#960050;background-color:#1e0010">ユーザ</span>(<span style="color:#960050;background-color:#1e0010">ロール</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">OPTION</span>];
</span></span></code></pre></div><table>
<thead>
<tr>
<th></th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>権限</td>
<td>SELECT/INSERT/UPDATE/DELETEを指定します。  ALL PRIVILEDGESで全ての権限を与えることができます。</td>
</tr>
<tr>
<td>対象資源</td>
<td>テーブル名、またはビュー名を指定します。</td>
</tr>
<tr>
<td>ユーザ(ロール)</td>
<td>権限の付与対象であるユーザ、ロールを指定します。</td>
</tr>
<tr>
<td>WITH GRANT OPTION</td>
<td>権限を与えられたユーザが、他のユーザに与えられた権限を与えることを許可するかを指定します。</td>
</tr>
</tbody>
</table>
<h2 id="revoke文">REVOKE文</h2>
<p>権限を剥奪します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">REVOKE</span> <span style="color:#960050;background-color:#1e0010">権限</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ON</span> <span style="color:#960050;background-color:#1e0010">対象資源</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> <span style="color:#960050;background-color:#1e0010">ユーザ</span>(<span style="color:#960050;background-color:#1e0010">ロール</span>);
</span></span></code></pre></div><p>説明は権限の付与と同じです。</p>
<table>
<thead>
<tr>
<th></th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>権限</td>
<td>SELECT/INSERT/UPDATE/DELETEを指定します。  ALL PRIVILEDGESで全ての権限を与えることができます。</td>
</tr>
<tr>
<td>対象資源</td>
<td>テーブル名、またはビュー名を指定します。</td>
</tr>
<tr>
<td>ユーザ(ロール)</td>
<td>権限の付与対象であるユーザ、ロールを指定します。</td>
</tr>
</tbody>
</table>

      </div>
    </div>
  </div>





  <div id="SubDiv">
    <div id="Menu">
      <div class="title">教科書</div>
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%9b%e3%83%bc%e3%83%a0">ホーム</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e5%9f%ba%e7%a4%8e">データベース基礎</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/SQL%e3%81%ae%e7%a8%ae%e9%a1%9e">SQLの種類</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%87%e3%83%bc%e3%82%bf%e6%93%8d%e4%bd%9c%e8%a8%80%e8%aa%9e">データ操作言語</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e7%b5%90%e5%90%88">テーブルの結合</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e9%9b%86%e5%90%88%e6%bc%94%e7%ae%97">集合演算</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e5%89%af%e5%95%8f%e3%81%84%e5%90%88%e3%82%8f%e3%81%9b">副問い合わせ</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%87%e3%83%bc%e3%82%bf%e5%ae%9a%e7%be%a9%e8%a8%80%e8%aa%9e">データ定義言語</a>
        
        
        
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%87%e3%83%bc%e3%82%bf%e5%88%b6%e5%be%a1%e8%a8%80%e8%aa%9e" class="active">データ制御言語</a>
          
          
        
        
        
      
        
        
        
          
          
          
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/textbook/%e5%9f%8b%e8%be%bc%e3%81%bf%e5%9e%8bSQL">埋込み型SQL</a>
        
        
        
      
      
      
      
      <div class="title">カラム</div>
      
        
        
        
        
        
        
        
        
          <a href="https://osawa-koki.github.io/DB2023/column/%e5%87%ba%e9%a1%8c%e5%82%be%e5%90%91">出題傾向</a>
        
        
        
      
    </div>
  </div>
</div>
<div>
  <div id="ButtonContainer">
    
      <a class="btn btn-outline-success" href="https://osawa-koki.github.io/DB2023/textbook/%e3%83%87%e3%83%bc%e3%82%bf%e5%ae%9a%e7%be%a9%e8%a8%80%e8%aa%9e" id="PrevButton">前へ</a>
    
    
      <a class="btn btn-outline-primary" href="https://osawa-koki.github.io/DB2023/textbook/%e5%9f%8b%e8%be%bc%e3%81%bf%e5%9e%8bSQL" id="NextButton">次へ</a>
    
  </div>
</div>
  </main>
<footer>
</footer>
</body>
</html>

